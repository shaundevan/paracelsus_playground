{% extends 'views/_document.twig' %}

{% block content %}
<div class="bg-pale-01">
    <div class="container pt-80 md:pt-96 pb-[60px] md:pb-20">
        <div class="text-dark-02 uppercase mb-5 2xl:px-5">{{ __('Search', 'pegasus') }}</div>
        <h1 class="heading-one 2xl:px-5">{{ __('Search results', 'pegasus') }}</h1>
    </div>
    <div class="container grid md:grid-cols-2 border-t md:border-y border-mid px-0 md:mb-20">
        <div>
            <div class="sticky top-20 pt-12 md:pt-16 md:pb-48 px-5 md:px-10">
                <form role="search" method="get" class="searchform max-w-[347px]" action="{{ site.link }}">
                    <div class="md:pb-[60px]">
                        <div class="border-b border-dark flex justify-between">
                            <input type="text" value="{{ fn('get_search_query') }}" placeholder="{{ __('Enter search term...', 'pegasus') }}" name="s" class="placeholder:text-dark-02 bg-transparent" />
                            <button type="submit" value="Search" aria-label="{{ __('Search', 'pegasus') }}">
                                {% include '@PegasusTheme/assets/imgs/icons/arrow.svg' %}
                            </button>
                        </div>
                    </div>
                </form>
                <div class="hidden md:block">
                {% if post_type_count.page is not empty %}
                    <div class="mb-2.5">
                        <a href="#pages" class="heading-four" @click.prevent="document.getElementById('pages').scrollIntoView({behavior:'smooth'})">{{ __('Pages', 'pegasus') }}</a>
                    </div>
                {% endif %}
                {% if post_type_count.post is not empty %}
                    <div>
                        <a href="#posts" class="heading-four" @click.prevent="document.getElementById('posts').scrollIntoView({behavior:'smooth'})">{{ __('Posts', 'pegasus') }}</a>
                    </div>
                {% endif %}
                </div>
            </div>
        </div>
        <div class="md:border-l border-mid subtitle-xl px-5 md:px-[30px]">
            {% if post_type_count.page is not empty %}
            <div id="pages" class="py-[60px] border-b border-mid md:pr-[30px]">
                <div class="pb-10">{{ post_type_count.page }} {{ post_type_count.page == 1 ? __('Page', 'pegasus') : __('Pages', 'pegasus') }}</div>
                    <div>
                    {% for post in posts %}
                        {% if post.type == 'page' %}
                        <a href="{{post.link}}" class="flex items-center justify-between subtitle-md py-5 md:py-8 first:border-t md:first:border-top-0 border-b border-mid last:border-b-0">{{post.title}}<span class="shrink-0">{% include '@PegasusTheme/assets/imgs/icons/arrow.svg' %}</span></a>
                        {% endif %}
                    {% endfor %}
                    </div>
                </div>
            {% endif %}
            <div id="posts" class="py-10 md:py-[60px] md:pr-[30px]">
            {% if post_type_count.post is not empty %}
            <div class="pb-10">{{ post_type_count.post }} {{ post_type_count.post == 1 ? __('Journal post', 'pegasus') : __('Journal posts', 'pegasus') }}</div>
            {% endif %}
                <div>
                {% for post in posts %}
                    {% if post.type == 'post' %}
                    <a href="{{post.link}}" class="flex items-center justify-between subtitle-md py-5 md:py-8 first:border-t md:first:border-top-0 border-b border-mid last:border-b-0">{{post.title}}<span class="shrink-0">{% include '@PegasusTheme/assets/imgs/icons/arrow.svg' %}</span></a>
                    {% endif %}
                {% endfor %}
                </div>
            </div>
        </div>
    </div>
    {% if result_page is not empty %}
    {{ result_page.content }}
    {% endif %}
</div>
{% endblock %}