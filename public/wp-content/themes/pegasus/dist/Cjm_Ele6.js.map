{"version":3,"file":"Cjm_Ele6.js","sources":["../assets/js/tracking/adform-tracking.js"],"sourcesContent":["// Adform Tracking Configuration\nconst adformConfig = {\n    httpHost: 'track.adform.net',\n    pm: 2883116,\n    scriptUrl: 'https://s2.adform.net/banners/scripts/st/trackpoint-async.js'\n};\n\n// Check if we're in development environment\nconst isDevelopment = () => {\n    const host = window.location.hostname;\n    return host.includes('localhost') || \n           host.includes('.lndo.site') || \n           host.includes('.local') || \n           host.includes('.test') || \n           host.includes('.dev');\n};\n\n// Initialize Adform tracking\nfunction initAdformTracking() {\n    if (isDevelopment()) {\n        console.log('Adform tracking disabled in development environment');\n        return;\n    }\n\n    try {\n        window._adftrack = Array.isArray(window._adftrack) ? window._adftrack : (window._adftrack ? [window._adftrack] : []);\n        window._adftrack.push({\n            HttpHost: adformConfig.httpHost,\n            pm: adformConfig.pm\n        });\n\n        // Load Adform script asynchronously\n        const script = document.createElement('script');\n        script.type = 'text/javascript';\n        script.async = true;\n        script.src = adformConfig.scriptUrl;\n        script.onerror = (error) => {\n            console.warn('Failed to load Adform tracking script:', error);\n        };\n        document.head.appendChild(script);\n    } catch (error) {\n        console.warn('Error initializing Adform tracking:', error);\n    }\n}\n\n// Track conversion after 60 seconds\nfunction trackConversion() {\n    if (isDevelopment()) return;\n\n    try {\n        window._adftrack = Array.isArray(window._adftrack) ? window._adftrack : (window._adftrack ? [window._adftrack] : []);\n        window._adftrack.push({\n            HttpHost: adformConfig.httpHost,\n            pm: adformConfig.pm,\n            divider: encodeURIComponent('|'),\n            pagename: encodeURIComponent('Conversion')\n        });\n    } catch (error) {\n        console.warn('Error tracking conversion:', error);\n    }\n}\n\n// Track three page visits\nfunction trackThreePageVisits() {\n    if (isDevelopment()) return;\n\n    try {\n        window._adftrack = Array.isArray(window._adftrack) ? window._adftrack : (window._adftrack ? [window._adftrack] : []);\n        window._adftrack.push({\n            HttpHost: adformConfig.httpHost,\n            pm: adformConfig.pm,\n            divider: encodeURIComponent('|'),\n            pagename: encodeURIComponent('Three Page Visits')\n        });\n    } catch (error) {\n        console.warn('Error tracking three page visits:', error);\n    }\n}\n\n// Page visit counter\nlet pageVisitCount = 0;\n\n// Initialize tracking when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    // Initialize base tracking\n    initAdformTracking();\n\n    // Track conversion after 60 seconds\n    setTimeout(trackConversion, 60000);\n\n    // Increment page visit counter\n    pageVisitCount = parseInt(localStorage.getItem('adformPageVisits') || '0') + 1;\n    localStorage.setItem('adformPageVisits', pageVisitCount.toString());\n\n    // Track three page visits\n    if (pageVisitCount >= 3) {\n        trackThreePageVisits();\n    }\n}); "],"names":["adformConfig","isDevelopment","host","window","location","hostname","includes","trackConversion","_adftrack","Array","isArray","push","HttpHost","pm","divider","encodeURIComponent","pagename","error","console","warn","pageVisitCount","document","addEventListener","log","script","createElement","type","async","src","onerror","head","appendChild","initAdformTracking","setTimeout","parseInt","localStorage","getItem","setItem","toString","trackThreePageVisits"],"mappings":"AACA,MAAMA,EACQ,mBADRA,EAEE,QAFFA,EAGS,+DAITC,EAAgB,KAClB,MAAMC,EAAOC,OAAOC,SAASC,SAC7B,OAAOH,EAAKI,SAAS,cACdJ,EAAKI,SAAS,eACdJ,EAAKI,SAAS,WACdJ,EAAKI,SAAS,UACdJ,EAAKI,SAAS,OAAM,EAgC/B,SAASC,IACL,IAAIN,IAEJ,IACIE,OAAOK,UAAYC,MAAMC,QAAQP,OAAOK,WAAaL,OAAOK,UAAaL,OAAOK,UAAY,CAACL,OAAOK,WAAa,GACjHL,OAAOK,UAAUG,KAAK,CAClBC,SAAUZ,EACVa,GAAIb,EACJc,QAASC,mBAAmB,KAC5BC,SAAUD,mBAAmB,eAErC,OAASE,GACLC,QAAQC,KAAK,6BAA8BF,EAC/C,CACJ,CAoBA,IAAIG,EAAiB,EAGrBC,SAASC,iBAAiB,oBAAoB,MAjE9C,WACI,GAAIrB,IACAiB,QAAQK,IAAI,4DAIhB,IACIpB,OAAOK,UAAYC,MAAMC,QAAQP,OAAOK,WAAaL,OAAOK,UAAaL,OAAOK,UAAY,CAACL,OAAOK,WAAa,GACjHL,OAAOK,UAAUG,KAAK,CAClBC,SAAUZ,EACVa,GAAIb,IAIR,MAAMwB,EAASH,SAASI,cAAc,UACtCD,EAAOE,KAAO,kBACdF,EAAOG,OAAQ,EACfH,EAAOI,IAAM5B,EACbwB,EAAOK,QAAWZ,IACdC,QAAQC,KAAK,yCAA0CF,EAAK,EAEhEI,SAASS,KAAKC,YAAYP,EAC9B,OAASP,GACLC,QAAQC,KAAK,sCAAuCF,EACxD,CACJ,CA0CIe,GAGAC,WAAW1B,EAAiB,KAG5Ba,EAAiBc,SAASC,aAAaC,QAAQ,qBAAuB,KAAO,EAC7ED,aAAaE,QAAQ,mBAAoBjB,EAAekB,YAGpDlB,GAAkB,GAhC1B,WACI,IAAInB,IAEJ,IACIE,OAAOK,UAAYC,MAAMC,QAAQP,OAAOK,WAAaL,OAAOK,UAAaL,OAAOK,UAAY,CAACL,OAAOK,WAAa,GACjHL,OAAOK,UAAUG,KAAK,CAClBC,SAAUZ,EACVa,GAAIb,EACJc,QAASC,mBAAmB,KAC5BC,SAAUD,mBAAmB,sBAErC,OAASE,GACLC,QAAQC,KAAK,oCAAqCF,EACtD,CACJ,CAmBQsB,EACJ"}